tinymce.PluginManager.add("mceThemifyStoreLocator",(function(t,e){"use strict";var o=[];jQuery.each(mceThemifyStoreLocator.shortcodes,(function(e,r){r.id=e,jQuery('<script type="text/html" id="tmpl-tsl-'+e+'-shortcode">'+r.template+"</script>").appendTo("body"),o.push(function(e){return{text:e.label,body:{type:e.id},onclick(){t.windowManager.open({title:e.label,body:e.fields,onSubmit(o){var r=this.toJSON();r.selectedContent=t.selection.getContent();var c=wp.template("tsl-"+e.id+"-shortcode");t.insertContent(c(r))}})}}}(r))})),t.addButton("mceThemifyStoreLocator",{type:"menubutton",text:"",image:mceThemifyStoreLocator.url+"assets/img/tsl-editor-icon.png",tooltip:mceThemifyStoreLocator.editor.menuTooltip,menu:o})}));