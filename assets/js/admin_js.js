($=>{"use strict";function t(t){$(".themify_sl_multi_num").append('<tr class="themify_sl_multi_row"><td><input type="text" style="display:inline;width:100%;" class="themify_sl_number_lable" value="'+t.lable+'"></td><td><textarea type="text" style="display:inline;width:100%;" class="themify_sl_number">'+t.number+'</textarea></td><td><input type="text" style="display:inline;width:100%;" class="themify_sl_link" value="'+t.link+'"></td><td><span class="ti-close tsl_row_remover" style="vertical-align:middle;cursor:pointer" width="16px" height="16px"></span></td></tr>'),$(".tsl_row_remover").on("click",(function(t){$(this).closest(".themify_sl_multi_row").remove(),t.preventDefault()}))}function e(t){$(".themify_sl_multi_time").append('<tr class="themify_sl_multi_row"><td><input type="text" style="display:inline;width:100%;" class="themify_sl_time_day" value="'+t.lable+'"></td><td><input type="text" class="themify_sl_time_open" style="display:inline;width:100%;" value="'+t.open+'"/></td><td><input type="text" style="display:inline;width:100%;" class="themify_sl_time_close" value="'+t.close+'"></td><td><span class="ti-close tsl_row_remover" style="vertical-align:middle;cursor:pointer" width="16px" height="16px"></span></td></tr>'),$(".tsl_row_remover").on("click",(function(t){$(this).closest(".themify_sl_multi_row").remove(),t.preventDefault()}))}var i=$("#themify_storelocator_address");if(i.length){var l=$("#themify_storelocator_numbers"),s=$("#themify_storelocator_timing");l.hide(),s.hide(),""==i.val()&&i.val("{}"),""==l.val()&&l.val("[]"),""==s.val()&&s.val("[]"),$("#themify_sl_add_num").on("click",(e=>{t({lable:"",number:"",link:""}),e.preventDefault()})),$("#themify_sl_add_time").on("click",(t=>{e({lable:"",open:"",close:""}),t.preventDefault()})),$("#post").on("submit",(function(t){var e,_=$(".themify_sl_multi_num").find(".themify_sl_multi_row"),m=$(".themify_sl_multi_time").find(".themify_sl_multi_row"),a=[];_.each((function(){""==(e={lable:$(this).find(".themify_sl_number_lable").val(),number:$(this).find(".themify_sl_number").val(),link:$(this).find(".themify_sl_link").val()}).lable&&""==e.number||a.push(e),$(this).remove()})),l.val(JSON.stringify(a)),a=[],m.each((function(){""==(e={lable:$(this).find(".themify_sl_time_day").val(),open:$(this).find(".themify_sl_time_open").val(),close:$(this).find(".themify_sl_time_close").val()}).lable&&""==e.open&&""==e.close||a.push(e),$(this).remove()})),s.val(JSON.stringify(a)),a={address:i.val()},themify_SL_map_marker.post_marker&&(a.position=themify_SL_map_marker.latlng_from_marker(themify_SL_map_marker.post_marker.marker)),i.val(JSON.stringify(a))}));for(var _=JSON.parse(l.val()),m=0;m<_.length;m++){t({lable:_[m].lable,number:_[m].number,link:_[m].link?_[m].link:""})}_=JSON.parse(s.val());for(m=0;m<_.length;m++)e({lable:_[m].lable,open:_[m].open,close:_[m].close});"[]"==l.val()&&t({lable:"",number:"",link:""}),"[]"==s.val()&&e({lable:"",open:"",close:""}),$("#themify_storelocator_address").css({visibility:"hidden"}),"object"!=typeof google||"object"!=typeof google.maps?$.getScript("//maps.googleapis.com/maps/api/js?key="+ThemifyStoreLocator.map_key,(()=>{a()})):a()}function a(){var t=$("#themify_storelocator_address");if(!t.length)return;let e;t.css({visibility:"visible"});try{e=JSON.parse(t.val())}catch(t){e={address:""}}if(t.val(e.address),"object"==typeof e.position){var i={position:e.position,title:"Store Location"};e={lat:e.position.lat,lng:e.position.lng}}else e={lat:35.8799875,lng:76.5151001};themify_SL_map_marker.init({map_container:$(".themify_storelocator_map").get(0),settings:{map_load:{center:{lat:e.lat,lng:e.lng},zoom:8,mapTypeId:"roadmap"},map_width:"50%",map_height:"200px"},markers:[],suggestion:!1}),"object"==typeof i&&(themify_SL_map_marker.post_marker=themify_SL_map_marker.add_marker(i)),t.on("blur",(function(){t=$(this).val(),themify_SL_map_marker.admin_post_marker(t)}))}})(jQuery,window,document);